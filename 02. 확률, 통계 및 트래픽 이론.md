# Chapter 02. 확률 통계 및 트래픽 이론

## 2.1 소개


### 무선 및 이동 통신망의 성능에 영향을 주는 요인

- 셀 내에서의 MS들의 밀도
- MS들의 이동 속도와 방향
- 호의 발생 빈도
- 얼마나 많은 MS들이 호를 발생시키나
- 통화 시간
- BS 또는 다른 MS들 대비 MS들의 상대적인 위치
- 셀 내에서의 트래픽의 종류(실시간 또는 비실시간)
- 인접 셀에서의 트래픽

## 2.2 기본적인 확률 및 통계 이론

### 2.2.1 랜덤 변수


1. 랜덤 변수 - 임의의 무작위적 현상의 성질

   1. 이산 랜덤 변수(pmf 사용) - 유한의 셀 수 있는 값을 랜덤 변수로 표현하는 것

      1. 사례

         1. 동전을 던져서 앞면이 나올 것인가, 뒷면이 나올 것인가
         2. 주사위를 던져서 각각의 숫자가 나올 확률

      2. 이산 랜덤 변수 X에 대하여 X의 pmf p(k)는 랜덤 변수 X의 값이 k가 될 확률이며, 다음과 같은 함수로 표현된다.
         $$
         p(k) = P(X = k), for\,k = 0,1,2,..., \\\,\\
         \mbox{이함수는 다음의 조건을 만족해야 한다.} \\\,\\
         1.\,\,0 \leq p(k) \leq 1, 모든 \,k에\, 대해 \\
         2.\,\,\sum p(k) = 1, 모든\, k에\, 대해
         $$

   2. 연속 랜덤 변수(pdf 사용) - 랜덤 변수가 무한히 많은 다른 값을 가질 수 있는 경우

      1. 사례
         1. 매일 매일의 기온
      2. 확률 질량 함수 대신 확률 밀도 함수를 가짐

### 2.2.2 누적 분포 함수

### 2.2.3 확률 밀도 함수

### 2.2.4 기대치, n차 모멘트, n차 중심모멘트 및 분산


1. 기대치, n차 모멘트, n차 중심모멘트 및 분산

   1. 기대치 - 변수의 평균 또는 중심값을 의미, 변수의 분포를 요약하는 유용한 값(숫자)이다.
   2. 어떤 랜덤 변수의 분산이란? 그 랜덤 변수의 실제 값이 어느 정도 넓게 퍼져서 나타날까 하는 정도를 표현하는 음수 아닌 실수
   3. 분산 ↑ 관측값이 평균적으로 더 많이 퍼짐

      1. 이것은 셀 내의 서로 다른 지역에 있는 가입자들의 호 발생 유형이 어떠한가를 표현하기에 매우 유용
      2. 위의 값을 알면 그 셀에서의 동시 통화수를 예측하는 데 이용가능
      3. 새로운 호는 서로 다른 시간에 발생 → 호 발생은 이산 랜덤 변수로 표현
      4. 호 지속시간(가입자의 통화시간)은 가변적이며 어느 한 채널이 통화 중인 시간의 비율은 호 발생률과 호 지속시간의 가중치에 좌우됨
      5. 반면에 인접 채널들 간의 간섭은 각 채널이 얼마나 긴 시간 동안 사용되었는가에 좌우되며 여러 개의 채널이 함께 사용된 중첩 기간이 얼마나 길었는가에 좌우됨
      6. 트래픽의 특성을 표현하기 위해서는 해당 모멘트 함수들을 모두 계산할 필요가 있음!
      7. 이러한 변수들을 정량화함으로써 시스템 성능에 대한 영향을 이해할 수 있음!!

### 2.2.5 몇 가지 중요한 분포함수

1. 이산 랜덤 변수

   1. 푸아송 랜덤 변수


$$
   P(X=k)={\lambda^ke^{-\lambda}\over k!},\, k=0,1,2,...,\,\mbox{그리고 }\lambda > 0.
$$

$$
      \mbox{푸아송 분포는 기대치가 } E[X] = \lambda\,\mbox{이고, 분산이 }V(X)=\lambda\,이다.\\
      \lambda = np
$$

   

   2. 기하 분포

      기하 분포는 첫 번째 성공을 이룰 때까지 반복적으로 시행한 실험의 횟수를 표현

$$
   P(X=k) = p(1-p)^{k-1},\,\,k=0,1,2,...,\\
   \mbox{기하 분포 함수의 확률 분포}\\
   p\mbox{ : 성공 확률}\\
   E[X] = 1/(1-p)\mbox{ : 기하 분포의 기대치}\\
   Var(X)=p/(1-p)^2\mbox{ : 분산}
$$

   3. 이항 분포

      이항 랜덤 변수는 n개의 항목 중에 k개가 존재할 경우를 표현
      연속적인 시도 중에 얻은 성공 횟수를 나타냄

$$
   P(X=k)={n\choose k}p^k(1-p)^{n-k}\\
   \mbox{이 식에서 }k=0,1,2,...,n이고,\,n=0,1,2,...,이며,\,p는\,성공확률을 나타낸다.\\
   \mbox{또한, 다음의 정의가 적용된다.}\\
   {n\choose k} = {n!\over k!(n-k)!}.\\
   \mbox{이항 분포는 기대치가 }E[X]=np,\,이며,\,분산은\,Var(X)=np(1-p)로\,나타낸다.
$$
   푸아송 분포는 가끔 변수 n 및 p를 동일하게 적용하여 이항 분포의 근사식으로 쓰이기도 함
   관측횟수 n의 값이 매우 크고 성공 확률 p가 매우 작을 경우, 이항 분포는 λ = np의 관계를 통하여 푸아송 분포에 근접
   이항분포의 계산보다 푸아송 분포의 계산이 훨씬 간단하여 이 사실이 매우 유용
   기하 분포 또한 성공확률이 일정하게 p로 정의된 독립적인 실험에 근거한다는 측면에서 이항분포와 관게가 있음

   **기하 분포는 첫 번째 성공할 때까지의 시도횟수** ↔ **이항 분포는 n번의 시도 중에서 성공한 횟수**

### 2.2.6 다중 랜덤 변수

하나의 무작위 실험의 결과가 몇 가지의 랜덤 변수 값에 의하여 조정되고 이 값들이 서로 간에 영향을 주고 있을 때가 있다.

**예) 서로 다른 가입자들이 서로 다른 길이, 서로 다른 속도의 호를 발생 시킨다고 가정**

- 각 사용자를 하나씩의 랜덤 변수로 모형화
- 어느 한 가입자의 총체적인 특성은 하나의 포괄적인 랜덤 변수로 정의 가능

1. 조건부 확률

2. 베이스의 정리

   1. 이 공리는 현재의 트래픽 조건이 주어졌을 때 추가적인 트래픽의 발생확률을 계산하고자 할 때 유용

3. 독립성

4. 주요 속성

   1. 기대치의 덧셈 속성
      $$
      \mbox{랜덤 변수들 }X_1, X_2,...,X_n \mbox{의 합의 기대치는 다음과 같다.}\\
      E[\sum_{i=1}^na_iX_i]=\sum_{i=1}^na_iE[X_i]\\
      식에서\,a_i는\,임의의\,상수이다.
      $$
      
   2. 기대치의 곱셈 속성
      $$
      \mbox{만일 랜덤 변수들 }X_1, X_2,...,X_n \mbox{들이 통계적으로 독립이라면 }X_1, X_2,...,X_n\mbox{의 곱의 기대치는 다음과 같다.}\\
      E[\prod_{i=1}^nX_i]=\prod_{i=1}^nE[X_i]
      $$
   
   3. 분산의 덧셈 속성
      $$
      \mbox{랜덤 변수들 }X_1, X_2,...,X_n \mbox{의 합의 분산은 다음과 같이 주어진다.}\\
      Var[\sum_{i=1}^na_iX_i]=\sum_{i=1}^na_i^2Var(X_i) + 2\sum_{i=1}^{n-1}\sum_{j=i+1}^na_ia_jCov[X_i,X_j]\\
      식에서\,Cov[X_i,X_j]\,는 \mbox{랜덤 변수들 }X_i\,및\,X_i\,\mbox{간의 공분산을 의미하며, 다음과 같이 주어진다.}\\
      Cov[X_i,X_j]=E[(X_i-E[X_i])(X_j-E[X_j])]\\
      =E[X_iX_j]-E[X_i]E[X_j].\\
      \mbox{만일 이 경우, 두 변수 }X_i\,및X_j가\mbox{ 서로 독립인 랜덤 변수들이라고 하면(무상관의, 즉}cov[X_i,X_j]=0인)\mbox{ 아래와 같은 관계가 성립한다.}\\
      Var(\sum_{i=1}^na_iX_i)=\sum_{i=1}^na_i^2Var(X_i)
      $$
   
   4. 합의 분포
   
   $$
   X와\,Y가\,fXY(x,y)\mbox{와 같은 결합 pdf를 가진 연속 랜덤 변수들이라고 가정한다. 만일}Z=\phi(X,Y)\mbox{라고 한다면 }Z의\mbox{분포는 다음과 같이 표현할 수 있다.}\\
   F_Z(z)=P(Z\leq z)=\iint_{\phi z}f_{XY}(x,y)dxdy\\
   식에서\,\phi Z는\,Z의,부분\,집합을\,의미한다.\,Z=X+Y인\,\mbox{특별한 경우에는 다음과 같은 관계를 얻는다.}\\
   F_Z(z)=\iint_{\phi z}f_{XY}(x,y)dxdy=\int_{-\infty}^\infty\int_{-\infty}^\infty f_{XY}(x,y)dxdy\\
   이\,식에서\,y=t-z의\mbox{ 변환을 취하면 다음의 관계가 된다.}\\
   F_Z(z)=\int^z_{-\infty}\int^\infty_{-\infty}f_{XY}(x,t-x)dxdt=\int^z_{-\infty}f_Z(t)dt.\\
   따라서\,Z의\,pdf\mbox{는 다음과 같이 얻을 수 있다.}\\
   f_Z(z)=\int_{-\infty}^\infty f_{XY}(x,z-x)dx,\,\,for-\infty\leq z <\infty\\
   만일\,X와\,Y가\,상호\,독립적이라고\,하면f_{XY}(x,y)=f_X(x)f_Y(y)\mbox{의 관계가 성립하므로 다음과 같은 관계를 얻는다.}\\
   f_Z(z)=\int_{-{\infty}}^\infty f_X(x)f_Y(z-x)dx,\,\,for-\infty\leq z <\infty\\
   또\,만일\,X와\,Y가\mbox{ 음수가 아닌 랜덤 변수라고 한다면 다음과 주같이 주어진다.}\\
   f_Z(z)=\int_0^zf_X(x)f_Y(z-x)dx,\,\,for-\infty\leq z <\infty\\
   \mbox{따라서 두 개의 음수가 아닌 상호독립적인 랜덤 변수들의 합의 pdf는 각각의 pdf,}f_X(x)와\,f_Y(y)의 \mbox{콘볼루션으로 표현된다는 것을 알 수 있다.}
   $$
   
5. 중심 극한 정리

   1. 이 정리는 신호들 상호 관계에 관하여 추정에 의존하여야 할 경우 매우 유용함
   2. 예)
      1. 표본의 크기가 매우 크다면 주어진 데이터가 정규 분포적인 성질을 가지고 있지 않다고 하더라고 정규성을 전제로 가설 검증을 할 수 있도록 해줌
      2. 검증 시험이 표본 평균을 사용하며 중심 극한 정리는 이를 정규 분포로 근사할 수 있도록 하는 근거가 되기 때문이다.

## 2.3 트래픽 이론

### 2.3.1 푸아송 도착 모형

- 푸아송 랜덤 과정 : 시간적으로 분리된 랜덤 사건들의 순열
- 예) 은행에 도착하는 고객들의 수나 가이거 계수관의 클릭의 수 등은 버퍼에 도달하는 패킷의 수와 특성이 비슷함
- 무선 네트워크에서 어느 셀에서 발생되는 호의 순열을 종종 푸아송 랜덤 과정으로 표현됨
- 푸아송 랜덤 과정의 도착률 λ는 단위 시간 동안에 관측되는 평균 발생률을 의미

1. 푸아송 랜덤 과정의 특성

   1. $$
      \mbox{어떤 시간 구간}[0,t)에서\,t시간\,동안\,n\mbox{개의 도착이 일어날 확률은 다음과 같이 주어진다.}\\
      P_n(t)={(\lambda t)^n\over n!}e^{-\lambda t},\,\,for=0,1,2,...\\
      \mbox{두 개의 분리된 구간, (t1,t2)및 (t3,t4)가 주어졌을 때(즉 t1 < t2 < t3 < t4), (t1, t2)구간에서의 도착 수는 (t3, t4) 구간에서 도착한 수와 상호 독립적이다.}
      $$

   2. 예) 무선 네트워크에서 (t1, t2)구간에서 발생한 호의 수는 (t3, t4)구간에서 발생한 호의 수에 아마도 독립적일 것

2. 푸아송 랜덤 과정의 도착점간 시간

3. 무기억 특성

   1. 예)
      1. 인간의 수명을  X라고 가정할 때 이미 y 시간을 살았다고 할 때 수명이 y+t보다 더 길 확률은 그냥 수명이 앞으로 t시간을 넘어설 확률과 동일하다는 것
      2. 무선 통신 분야에서 새로운 호의 생성을 그 사용자의 과거의 호 발생 이력과는 전혀 무관하다는 점을 암시함

4. 수렴 특성

   1. 예) 무선 네트워크에서 어떤 셀이 일부 그룹은 보행자들로 구성된 음성 서비스로 구성될 수 있고, 또다른 일부의 그룹은 고속으로 움직이는 차 안에서의 음성 서비스, 또 다른 그룹은 주로 데이터를 전송하는 그룹 등으로 다양하게 구성될 수 있음. 이 경우, 각 그룹은 서로 다른 푸아송 랜덤 과정으로 표현

5. 분할 특성

   1. 
      $$
      \mbox{만일 도착점 간 시간이 }1-e^{-\lambda t}\mbox{인 푸아송 랜덤 과정이 n개의 랜덤 과정으로 분할되면서 도착호가 i번째 프로세스로 접속될 확률을 }P_i,i=1,2,...,n이라고\mbox{하면}\\
      \mbox{i번째 부분 프로세스는 도착점간의 분포가 }1-e^{-P_i\lambda t}\mbox{으로 나타난다. 즉, n개의 푸아송 랜덤 과정이 분할되어 나타난 것이다.}
      $$

## 2.4 기본 큐잉 시스템

### 2.4.1 큐잉 이론이란 무엇인가?

​	큐잉 이론 : 큐(또는 대기열이라고 부르기도 함)에 관하여 연구하는 분야.

### 2.4.2 기본 큐잉 이론

1. 무선 네트워크에서 한 셀에서의 신규 호의 발생과 이러한 셀에 채널을 할당하는 과정을 수학적으로 표현하는 등의 다양한 응용영역을 가짐
2. 트래픽 흐름, 스케줄링, 자원 할당 등의 세 가지 주된 분야로 나눌 수 있음

### 2.4.3 켄달의 표현 형식

1951년도에 켄달이 큐잉 시스템을 구분하는 표준 형식을 오른쪽과 같이 제안 → A/B/C/D/E

| A     | 고객의 도착점 간 시간의 분포  |
| ----- | :---------------------------- |
| **B** | **서비스 시간의 분포**        |
| **C** | **서버의 수**                 |
| **D** | **시스템 내의 고객의 최대수** |
| **E** | **모집단의 수**               |

특히 A와 B는 아래의 분포 형식 중 하나로 정의

| **M**  | **지수 분포(마르코프 과정)** |
| ------ | ---------------------------- |
| **D**  | **확정(변화없는) 분포**      |
| **Ek** | **얼랑 분포(성형 변수 k)**   |
| **G**  | **일반 분포(임의의 분포)**   |
| **Hk** | **하이퍼 지수분포(변수 k)**  |



### 2.4.4 리틀의 법칙

- λ - 평행 상태에서의 평균 고객 도착률

- N - 시스템 내의 평균 고객의 수(버퍼에 대기중인 고객과 서비스 중인 고객을 모두 포함)

- T - 시스템 내에서 각 고객이 지체하는 평균 시간(큐에서 대기한 시간과 서비스 시간을 합한 것)

- 이 경우, 직관적인 예측을 따르면 다음과 같은 관계를 유추 할 수 있다.
  $$
  N=\lambda T
  $$

- 이 정리는 다양한 유형의 서비스 과정이나 도착 과정의 통계적 특성에 대하여 참으로 적용됨

### 2.4.5 마르코프 랜덤 과정

- 랜덤 과정의 다음 상태가 해당 랜덤 과정의 그 이전에 생성되어온 과정(즉 과거의 이력)과는 관계없이 현재 상태에만 의존하는 랜덤 과정
- 위 말의 의미 : 현재 상태에 대한 정보와 그 상태에서의 천이 확률만 알면 과거의 상태와 관계없이 다음 상태를 예측할 수 있음
- 마르코프 사슬 == 이산 상태 마르코프 랜덤 과정

### 2.4.6 탄생-소멸 랜덤 과정

- 모집단의 수를 모형화하거나 큐에서 기다리는 작업의 수를 모형화하는 데 적용하는 특수한 형식의 마르코프 랜덤 과정



**용어 정리**

#### 확률 변수는 함수다! -> 어떤 함수? -> 표본 공간에 있는 모든 원소를 실수로 대응 시키는 함수.

#### 확률 함수는 확률 변수로 부터 나온 실수를 확률로 변환하는 함수 이다.

호(Call) : 전화교환망에서 개개의 통신이 통신설비를 일시적으로 점유하는 것
MS : Mobile Station
BS : Base Station
pdf : 확률 밀도 함수(probability density function)
pmf : 확률 분포 또는 확률 질량 함수(probability mass function)
