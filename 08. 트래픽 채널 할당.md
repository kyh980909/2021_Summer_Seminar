# Chapter 08. 트래픽 채널 할당

## 8.1 소개

- 트래픽 채널 할당은 성능의 관점에서 매우 중요

- 채널 할당 : 기지국이 이동국들에 대하여 트래픽 채널을 어떻게 부여하여야 할 것인가를 다룸

- 이번 챕터에서 "트래픽 채널" == "채널"

- 채널은 기지국(BS)에서만 관리됨 → 이동국(MS)이  새로운 호를 구성하고자 할 때마다 기지국에 채널 요구를 해야함

  - 채널에 여유가 있으면 접속 허용
  - 이러한 방법으로 한 셀 내에서의 새로운 호에 대한 거절 또는 차단 확률이 최소화될 수 있음
    - 위와 같이 하기 위해서는 셀당 채널 수를 늘린면 된다.

- 채널 할당 : 주어진 무선 주파수 대역을 여러 개의 겹치지 않는 채널들로 나누는 일

  - 채널 할당의 이점 : 채널들이 잘 분리되어 있을 경우 서로간의 간섭을 최소화하면서 동시에 통신이 가능

  - 방법 1 : FDMA/TDMA 기반 시스템에서는 채널들을 셀들 가운데 균등하게 분배하여 채널 간의 간섭을 재사용 거리를 보장함으로 피할 수 있음

    - 예) S_total = 413, N = 7 이라면 셀 당의 트래픽 채널의 수 S는 59가 됨

    $$
    S={S_{total}\over N}\\
    S_{total} : \mbox{채널의 총수}\\
    N : \mbox{재사용 클러스터의 크기}
    $$
    
    - 셀당 채널 수를 늘이기 위해 N을 줄이면(채널 재사용 원리는 어긋남) 재사용 거리가 줄어들어 간섭이 늘어남
    
  - 방법 2 : 셀 내에서의 트래픽 요구에 맞추어 셀당 채널 수를 정해주는 방법 → 순시적인 트래픽의 변화를 예측하는 것은 정말 어려움

    따라서 각 셀에 동일한 수의 채널들을 할당하는 것이 합리적

## 8.2 정적 할당과 동적 할당

#### FDMA/TDMA 셀룰러 시스템에서 트래픽 채널을 셀들에 할당하는 방법 2가지

- 정적 할당(FCA, 고정 채널 할당) : 정적 할당에서는 각 셀당 **정해진 수**의 채널들이 할당
  - 각 셀에 할당되는 채널의 수를 동일하게 할 수도 있고, 각 셀당 트래픽 요구를 살펴서(과거의 사용 형태에 대한 통계를 활용) 균일하지 않은 분포로 할당 할 수 도 있음
- 동적 할당(DCA, 동적 채널 할당) : 서로 다른 셀들에 대한 채널 할당을 중앙의 관리 센터를 두고 **필요에 따라** 동적으로 할당
- 위 2개의 할당의 다른 대안으로 고정 할당 방식과 동적 할당 방식의 특성을 조합하여 구성하는 방법도 있음 → 하이브리드 채널 할당(HCA)

## 8.3 고정 채널 할당(FCA : Fixed Channel Allocation)

- FCA에서는 한 묶음의 채널들이 특정 셀에 고정적으로 지정

- 전체 가용 채널들을 여러 개의 묶음으로 나누면 전체 영역을 모두 서비스할 최소 묶음의 수는 주파수 재사용 거리 D와 셀의 반경 R의 함수로 정의됨

  $$
  \sqrt N={D\over\sqrt3R}\\
  D:주파수\,재사용\,거리\\
  R:셀의\,반경\\
  N:클러스터당\,셀수
  $$
  
- 신규로 발생하는 호와 핸드오프 호들에 의한 트래픽의 증가에 대응하는 방법은 **인접 셀로부터 채널을 빌려오는 것**

  - 채널을 빌리는 방법은 간단한 것부터 복잡한 것까지 여러가지가 있음
  - 제어국의 소프트웨어나 주어진 조건에서의 차용 가능성 등에 근거하여 선택

### 8.3.1 간단한 차용 방법

- 특정 셀에 할당된 채널들이 모두 사용 중일 때 어느 셀에서건 여분의 채널을 가진 곳에서 채널을 빌려오는 방법
  - 풍요도 기준 차용법(borrowing from the richest) : 인접한 셀들 가운데 유휴(idle) 채널수가 가장 많은 셀로부터 빌려옴
    - 차후에 채널에 여유가 생기면 차용했던 채널을 다시 원래의 공여 셀로 반환
    - 이러한 알고리즘을 반환절차를 가진 기본 알고리즘으로 정의
  - 최초 검색 채널 차용법 : 여유 채널을 찾는 과정에서 미리 정해진 순서로 찾되, 가장 먼저 찾아지는 채널을 선택하는 방법
  - 공여 셀 : 채널을 주는 셀

### 8.3.2 복합적인 차용 방법

- 기본 유형 : 채널들을 **두 개의 그룹으로 나누어서**, 그 **하나는 해당 셀에만 사용**하고 **다른 그룹은 인접 셀들에 빌려**주는 목적으로 유보
  - 두 그룹 간의 비율은 미리 정해지며 시스템 내의 예상 트래픽에 따라 정해진다.
  - 유보하다 : 어떤 일의 처리를 당장하지 않고 뒤로 미루다
  
- 채널 배열에 따른 차용 : 각 셀 당의 채널들에 우선순위를 부여하고 높은 우선 순위들은 셀 내부로부터의 호들에 할당하고 가장 낮은 순위의 채널부터 시작하여 인접 채널로의 차용에 쓰는 방법

- 방향성 기반 채널 잠금 할당 방법 : 차용할 채널이 해당 셀의 동일 채널 재사용 셀에서 사용 중이 아니면 차용이 가능
  - 추가적인 조건을 가지고 있으므로 가용 채널의 수는 줄어듬
  
- 반환 기반 정렬 채널 할당 기법 : 낮은 순서의 채널들을 공여에 우선 고려하고 차용한 채널들은 차용한 셀에서 그 채널이 가용하게 될 때 공여 셀에 돌려줄 수 있음

- 서ㄴ로 다른 채널 할당 기법들 간에는 **총체적인 채널 활용도, 총 수요가능 트래픽, 할당의 복잡도** 등의 관점에서 장점과 단점들이 있으며 선택 과정에서의 결정은 **트래픽의 속성**과 **시스템 규격**에 따라 정해짐

- ## 그림 8.2 설명 추가 예정

## 8.4 동적 채널 할당(Dynamic Channel Allocation)

- DCA : 새로운 호들이 접수될 때마다 트래픽 채널들이 할당되며 할당에 쓰이는 채널은 중앙의 정보 센터에서 일괄 보관 하는 방식

  → 하나의 호가 종료되면 그 호를 위하여 할당되었던 채널은 다시 중앙 센터로 반납

  → 새로운 호에 대하여 간섭을 최소화하는 가장 적절한 채널을 찾는 일은 서로 다른 채널들에 대한 현재의 할당을 모두 알고 현재의 트래픽을 알고 있으므로 매우 쉬움

  → DCA는 FCA가 가지는 문제점을 극복 가능
  
- DCA는 크게 중앙 집중형과 분산형 두 가지로 분류되며, 각각에 대한 변형들은 매우 많음

### 8.4.1 중앙 집중형 동적 채널 할당

- 새로운 호가 요청되면 그때마다 자유 채널들을 관리하는 중앙 정보 센터에서 채널이 선정되며 특정의 선발 알고리즘을 이용하여 후보가 될 유휴 채널들 중에서 선택
  - 가장 간단한 방법 : 재사용 거리를 만족하는 가장 먼저 발견된 채널을 사용
  - 지역 최적화 동적 할당 기법 : 그 셀의 인접 셀들에서의 예상 차단 확률을 최소화하는 방법으로 선정
  - 또 다른 채널 재사용 최적화 기법 : 적절한 채널 할당을 이용하여 모든 채널들을 다 사용함으로써 시스템의 효율을 극대화 함
  
- ### 2번째 문단 정리 생각중

- DCA는 ***새로운 호가 랜덤하게 발생하는 상황을 최적***으로 대응하지만 ***총제적인 채널 재사용을 극대화하지는 않음***

- 따라서 이러한 방식들은 FCA 대비 트래픽 수용 용량은 적어지지만 이 현상은 트래픽률이 높을 때 더욱 뚜렷함

- 동일 채널 셀들 간의 거리를 더욱 늘임으로써 재사용 거리를 개선할 수 있으면 채널을 재할당하거나 진행 중인 호에 대해 할당된 채널을 바꾸는 것을 가능하게 하자는 제안들도 있음

### 8.4.2 분산형 동적 채널 할당 방식

- 분산형 DCA는 주로 동일 채널 간 거리, 신호 세기의 측정치, SNR 등 세 가지 변인들 중 하나에 근거함
- 셀 기반 분산 방식
  1. 별도의 표를 관리하여 인근의 다른 동일 채널 셀들에서 사용 중이 아닌 하나나 그 이상의 채널들을 표현
  2. 표로부터 한 채널을 골라 요청 중인 호에 할당
- 인접 채널 간섭을 제약 조건으로 하는 경우
  - 채널 선정 시에 동일 채널 간섭 이외에도 인접 채널 간섭도 고려
  - 한계점 : 이동국의 위치를 고려하지 않기 때문에 채널 할당의 최적화 불가
- 신호 세기의 측정치에 기반
  - 예측되는 동일 채널 반송파대 간섭비(CCIR)가 기준치를 넘어설 경우에만 새로운 호에 채널을 할당
  - 이 경우 어떤 CCIR을 나쁘게 만들 수도 있음

## FCA와 DCA 비교 표

| FCA                                             | DCA                                                      |
| ----------------------------------------------- | -------------------------------------------------------- |
| 트래픽이 많을 때 성능이 좋다.                   | 트래픽이 적거나 중간일 때 성능이 좋다.                   |
| 채널 할당이 유연하지 못하다.                    | 채널 할당이 유연하다.                                    |
| 최대의 채널 재사용률을 얻는다.                  | 채널 재사용률은 최대가 되지 않는다.                      |
| 시간 및 공간적 변화에 민감하다.                 | 시간 및 공간적 변화에 둔감하다.                          |
| 간접 셀 그룹 내에서는 셀당 성능이 불안정하다.   | 간접 셀 그룹 내에서는 셀당 서비스 등급제어가 안정적이다. |
| 강제적인 호 종료의 가능성이 높다.               | 강제적인 호 종료의 가능성이 적거나 보통이다.             |
| 셀이 클 때 효과적이다.                          | 마이크로 셀 환경에서 효과적이다.                         |
| 유연성이 낮다.                                  | 유연성이 높다.                                           |
| 무선국들은 그 셀에 할당된 모든 채널을 운용한다. | 무선국들은 그 셀에 할당된 임시 주파수들만 운용한다.      |
| 독립적인 채널 제어                              | 방식에 따라 완전 중앙 집중형이나 완전 분산형이 가능하다. |
| 계산량이 적다.                                  | 계산량이 많다.                                           |
| 호 접속 지연이 작다.                            | 호 접속 지연이 보통이거나 크다.                          |
| 구현 복잡도가 낮다.                             | 구현 복잡도가 보통이거나 크다.                           |
| 복잡한 주파수 사용 계획이 필요하다.             | 셀의 주파수 사용 계획이 불필요하다.                      |
| 시그날링 부담이 적다.                           | 시그날링 부담이 보통이거나 크다.                         |
| 중앙 집중형 제어                                | 방식에 따라 중앙 집중형 및 분산형 제어가 있다.           |

## 8.5 하이브리드 채널 할당 방식(HCA)

### 8.5.1 하이브리드 채널 할당 기법들(HCA)

- 채널을 고정 할당 그룹과 동적 할당 그룹으로 구분한 고정 할당과 동적 할당 방식의 혼합형
- 각 셀은 해당 셀에서만 사용 가능한 고정된 수의 채널들을 할당받음
- 동적 할당 그룹에 대한 채널 요구는 해당 셀에 할당된 고정 할당 그룹의 채널들이 고갈되었을 경우에만 발생
  - 동적 할당 그룹에서의 채널 선택은 여러 가지 동적 할당 방식 중 무엇을 써도 무방
- 문제점 : 고정 할당과 동적 할당을  어떤 비율로 하느냐
  - 최적 비율은 트래픽의 특성에 달려 있으며 이 값을 순간 부하 분포에 맞추어 변화시키는 것이 나을지도 모름
  - 참고문헌 8.1에서는 고정 대 동적 할당의 비율이 3:1일 경우, 트래픽이 50%일 때까지는 혼합형 할당이 고정 할당 시보다 나은 성능을 보이고, 그 이상의 트래픽에서는 고정 방식이 더 나았다는 결과를 보고함
  - 동적 할당에 대래서도 동일한 비교를 함. 부하가 15%에서 40%까지로 변화함에 따라 상응한 최적값은 동적 할당이 많은 경우, 중간인 경우, 없을 경우에 대하여 변화가 있었음

### 8.5.2 유연한 채널 할당 기법들

- 사용 가능한 채널들이 고정형 그룹과 유연한 그룹으로 구분된 하이브리드 방식과 유사한 기법
- 고정형 그룹은 적은 트래픽 상황에 효율적으로 대처하기 위해 각 셀에 고정 할당
- 유연한 채널은 고정된 채널 집합을 다 사용하고도 추가적인 채널이 필요한 셀들에서만 요구가 발생함
- 유연한 채널들은 그때 그때의 트래픽 유형에 맞춘 효과적인 채널 할당을 위하여 중앙 집중형의 제어가 필요하다.
- 채널의 할당에는 계획형과 예측형의 두 가지 서로 다른 방법이 있다.
  - 계획형 할당 : 미리 예측된 트래픽의 최대치 시점에서 이용할 비상용 채널들을 설정하기 위하여 트래픽의 변화에 대한 사전 정보(즉, 시간적 공간적 최고치)가 필요
  - 예측형 할당 : 트래픽의 강도와 차단 확률을 각 셀에서 항상 감시하여 각 셀의 필요성에 맞추어 유연한 채널들을 할당
    - 추가적인 채널들을 필요에 따라 추가 할당하는 방법으로 8시부터 오후 5시와 같이 미리 예측된 최대 필요 시간에 할당하는 방법과 상반된 접근

## 8.6 특별한 시스템 구조에서의 채널 할당

- 채널의 할당은 시스템 구조에서 오는 근본적인 속성에도 좌우됨

### 8.6.1 일차원적인 시스템에서의 채널 할당

- 책의 그림 참고

### 8.6.2 채널 할당에 근거한 재사용 지역 분할

- 지역 분할에 근거한 할당 전략에서는 각 셀을 그림 8.5와 같이 여러 개의 동심원으로 나눈다.

